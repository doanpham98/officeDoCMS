(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{44:function(e,t,a){e.exports=a(84)},49:function(e,t,a){},50:function(e,t,a){},71:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),o=a.n(c),l=(a(49),a(50),a(6)),u=a(18),i=a.n(u),m="https://5ee0a54430deff0016c3f36d.mockapi.io/api/products",d=function(){return i.a.get(m)},s=function(e){return i.a.post(m,e)},p=function(e){return i.a.delete("".concat(m,"/").concat(e))},E=function(e,t){return i.a.put("".concat(m,"/").concat(e),t)},f=function(e){return i.a.get("".concat(m,"?q=").concat(e))},b=(a(71),a(85));function h(){return r.a.createElement("h1",{className:"mt-5 mb-5"},"Products ",r.a.createElement(b.a,{color:"danger"},"Office-DO"))}var g=a(91),y=a(17),O=a(86),v=a(94),P=a(87),j=a(88),_=a(89),C=a(90),N=a(10),D=a(11),T=function(e){var t=Object(l.b)(),a=Object(n.useState)(!1),c=Object(y.a)(a,2),o=c[0],u=c[1],i=function(){return u(!o)},m=Object(n.useState)(!1),d=Object(y.a)(m,2),s=d[0],f=d[1],b=function(){return f(!s)},h=function(a){a.preventDefault();var n,r,c=a.target.productName.value,o=a.target.productPrice.value,l=a.target.productImage.value;return""===c||""===o?(alert("check name input or price input, you not be blank "),!1):isNaN(o)?(alert("Price must be a number"),!1):(t((n=e.id,r={name:c,price:o,image:l},function(e){E(n,r).then((function(t){return e(function(e,t){return{type:"EDIT_PRODUCT",payload:t,id:e}}(n,t.data))})).catch((function(e){return console.error(e)}))})),void i())};return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price,"  ",r.a.createElement("sup",null,"vn\u0111")),r.a.createElement("td",null,r.a.createElement("img",{src:e.image,height:"100px",alt:"product"})),r.a.createElement("td",{className:"button-group"},r.a.createElement(O.a,{color:"secondary",onClick:i},r.a.createElement(N.a,{icon:D.b})," Edit"),r.a.createElement(v.a,{isOpen:o,toggle:i},r.a.createElement(P.a,{onSubmit:function(e){return h(e)},className:"add-form"},r.a.createElement("h1",null,"Edit Product"),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productName"},"Product Name ",r.a.createElement("span",{style:{color:"red"}},"(*)")," "),r.a.createElement(C.a,{type:"text",name:"productName",id:"productName",defaultValue:e.name})),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productPrice"},"Product Price ",r.a.createElement("span",{style:{color:"red"}},"(*)")," "),r.a.createElement(C.a,{type:"text",name:"productPrice",id:"productPrice",defaultValue:e.price})),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productImage"},"Product Image(link)"),r.a.createElement(C.a,{type:"text",name:"productImage",id:"productImage",defaultValue:e.image})),r.a.createElement(O.a,{className:"btn-submit-add",color:"success",onSubmit:function(e){return h(e)}},"Submit"))),r.a.createElement(O.a,{color:"danger",onClick:b},r.a.createElement(N.a,{icon:D.h}),"  Delete")),r.a.createElement(v.a,{isOpen:s,toggle:b,style:{marginTop:"200px"}},r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"You sure want to delete this product?"),r.a.createElement(O.a,{onClick:function(){var a;t((a=e.id,function(e){p(a).then((function(){return e({type:"DELETE_PRODUCT",payload:a})})).catch((function(e){return console.error(e)}))})),b()},color:"success",className:"button button-yes"},"Yes"),r.a.createElement(O.a,{onClick:b,className:"button button-no"},"No"))))};a(81);function k(e){var t=e.text,a=e.handleSort,c=Object(n.useState)(!0),o=Object(y.a)(c,2),l=o[0],u=o[1];return r.a.createElement("th",null,t,"  ",r.a.createElement(N.a,{icon:D.g,onClick:function(){return u(!l),a(t,l)}}))}function S(){var e=Object(l.c)((function(e){return e.pagination._page})),t=Object(l.c)((function(e){return e.pagination._limit})),a=Object(l.b)(),n=function(e,t){a({type:"SORT",payload:{valueSort:e,waySort:t}})},c=Object(l.c)((function(a){return a.products.filter((function(a,n){return t*(e-1)-1<n&&n<t*e}))}));return r.a.createElement(g.a,{className:"mt-5"},r.a.createElement("thead",{style:{background:"#dc3545",color:"#fff"}},r.a.createElement("tr",null,r.a.createElement(k,{text:"id",handleSort:n}),r.a.createElement(k,{text:"product",handleSort:n}),r.a.createElement(k,{text:"price",handleSort:n}),r.a.createElement("th",null,"Image "),r.a.createElement("th",null))),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement(T,{key:t,id:e.id,name:e.name,price:e.price,image:e.image})}))))}function A(){var e=r.a.useState(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=function(){return n(!a)},o=Object(l.b)(),u=function(e){e.preventDefault();var t,a=e.target.productName.value,n=e.target.productPrice.value,r=e.target.productImage.value;return""===a||""===n?(alert("check name input or price input, you not be blank "),!1):isNaN(n)?(alert("Price must be a number"),!1):(o((t={name:a,price:n,image:r},function(e){s(t).then((function(t){return e({type:"ADD_PRODUCT",payload:t.data})})).catch((function(e){return console.error(e)}))})),void c())};return r.a.createElement("div",null,r.a.createElement(O.a,{color:"primary",onClick:c},r.a.createElement(N.a,{icon:D.f}),"  Add"),r.a.createElement(v.a,{isOpen:a,toggle:c},r.a.createElement(P.a,{onSubmit:function(e){return u(e)},className:"add-form"},r.a.createElement("h1",null,"Add New Product"),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productName"},"Product Name ",r.a.createElement("span",{style:{color:"red"}},"(*)")," "),r.a.createElement(C.a,{type:"text",name:"productName",id:"productName",placeholder:"new product name..."})),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productPrice"},"Product Price ",r.a.createElement("span",{style:{color:"red"}},"(*)")," "),r.a.createElement(C.a,{type:"text",name:"productPrice",id:"productPrice",placeholder:"new product price..."})),r.a.createElement(j.a,null,r.a.createElement(_.a,{for:"productImage"},"Product Image(link)"),r.a.createElement(C.a,{type:"text",name:"productImage",id:"productImage",placeholder:"new product image..."})),r.a.createElement(O.a,{className:"btn-submit-add",color:"success",onSubmit:function(e){return u(e)}},"Submit"))))}function w(){var e=Object(l.b)(),t=function(t){var a=t.target.value;e(function(e){return function(t){f(e).then((function(e){return t({type:"SEARCH_PRODUCT",payload:e.data})})).catch((function(e){return console.error(e)}))}}(a))};return r.a.createElement(C.a,{className:"search-box",type:"text",placeholder:"Search something...",onInput:function(e){return t(e)}})}var I=function(){var e=Object(l.b)();return r.a.createElement("div",{className:"number-item"},r.a.createElement(C.a,{type:"number",defaultValue:"10",min:"5",max:"20",step:"5",onChange:function(t){return function(t){var a=t.target.value;e({type:"CHANGE_LIMIT_PAGE",payload:a})}(t)}})," ",r.a.createElement("span",null,"entries"))};a(82);function x(){return r.a.createElement("div",{style:{height:"1em"}},r.a.createElement(A,null),r.a.createElement(I,null),r.a.createElement(w,null))}var R=a(93),U=a(92),H=function(e){var t=e.number,a=e._page,n=e.handleClickItem;return(r.a.createElement(U.a,null,r.a.createElement(O.a,{color:"info",className:"ml-0",onClick:function(){return n(t)},disabled:t===a},t)))},G=function(){for(var e=Object(l.c)((function(e){return e.pagination._limit})),t=Object(l.c)((function(e){return e.pagination._page})),a=Object(l.c)((function(e){return e.pagination._total})),n=[],c=1;c<=a;c++)n.push(c);var o=Object(l.b)(),u=function(e){o({type:"CHANGE_PAGE",payload:e})};return r.a.createElement(R.a,{size:"sm"},r.a.createElement(U.a,null,r.a.createElement(O.a,{onClick:function(){return u(1)},className:"ml-0",color:"info",disabled:1===t},r.a.createElement(N.a,{icon:D.c}))),r.a.createElement(U.a,null,r.a.createElement(O.a,{onClick:function(){return u(t-1)},className:"ml-0",color:"info",disabled:1===t},r.a.createElement(N.a,{icon:D.a}))),n.map((function(a,n){return r.a.createElement(H,{key:n,number:a,_page:t,_limit:e,handleClickItem:u})})),r.a.createElement(U.a,null,r.a.createElement(O.a,{onClick:function(){return u(t+1)},className:"ml-0",color:"info",disabled:t===n.length},r.a.createElement(N.a,{icon:D.e}))),r.a.createElement(U.a,null,r.a.createElement(O.a,{onClick:function(){return u(a)},className:"ml-0",color:"info",disabled:t===n.length},r.a.createElement(N.a,{icon:D.d}))))};var M=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e((function(e){d().then((function(t){return e({type:"FETCH_DATA",payload:t.data})})).catch((function(e){return console.error(e)}))}))}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(x,null),r.a.createElement(S,null),r.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(83);var L=a(15),V=a(42),F=a(43),W=a(13),B=a(9),J={amountProducts:0,_page:1,_limit:10,_total:function(){return this.amountProducts/this._limit}},Y=Object(L.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":return t.payload;case"ADD_PRODUCT":return Object(W.a)(e).concat(t.payload);case"SEARCH_PRODUCT":return t.payload;case"EDIT_PRODUCT":return Object(W.a)(e).map((function(e){return e.id===t.id?t.payload:e}));case"DELETE_PRODUCT":return Object(W.a)(e).filter((function(e){return e.id!==t.payload}));case"SORT":switch(t.payload.valueSort){case"id":return t.payload.waySort?Object(W.a)(e).sort((function(e,t){return e.id-t.id})):Object(W.a)(e).sort((function(e,t){return t.id-e.id}));case"price":return t.payload.waySort?Object(W.a)(e).sort((function(e,t){return e.price-t.price})):Object(W.a)(e).sort((function(e,t){return t.price-e.price}));case"product":return t.payload.waySort?Object(W.a)(e).sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0})):Object(W.a)(e).sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a>n?-1:a<n?1:0}));default:return e}default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LIMIT_PAGE":return Object(B.a)(Object(B.a)({},e),{},{_limit:t.payload,_total:Math.ceil(e.amountProducts/t.payload)});case"CHANGE_PAGE":return Object(B.a)(Object(B.a)({},e),{},{_page:t.payload});case"FETCH_DATA":return Object(B.a)(Object(B.a)({},e),{},{_total:Math.ceil(t.payload.length/e._limit),amountProducts:t.payload.length});case"ADD_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{amountProducts:e.amountProducts+1,_total:Math.ceil((e.amountProducts+1)/e._limit)});case"DELETE_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{amountProducts:e.amountProducts-1,_total:Math.ceil((e.amountProducts-1)/e._limit)});case"SEARCH_PRODUCT":return Object(B.a)(Object(B.a)({},e),{},{amountProducts:t.payload.length,_total:Math.ceil(t.payload.length/e._limit)});default:return e}}}),q=Object(L.createStore)(Y,Object(F.composeWithDevTools)(Object(L.applyMiddleware)(V.a))),z=document.getElementById("root");z.hasChildNodes()?o.a.hydrate(r.a.createElement(l.a,{store:q},r.a.createElement(M,null)),z):o.a.render(r.a.createElement(l.a,{store:q},r.a.createElement(M,null)),z),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.6f3e2d53.chunk.js.map